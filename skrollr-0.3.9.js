/*! skrollr v0.3.9 https://github.com/Prinzhorn/skrollr | free to use under terms of MIT license */(function(a,b,c){function A(e){P=this,e=e||{};if(e.easing)for(var h in e.easing)z[h]=e.easing[h];R={beforerender:e.beforerender||d,render:e.render||d},S=[],T=e.maxKeyFrame||0,U="down",V=-1,W=0;var j=b.getElementsByTagName("*"),k=[];for(var l=0;l<j.length;l++){var m=j[l],o=[];if(!m.attributes)continue;for(var p=0;p<m.attributes.length;p++){var q=m.attributes[p],r=q.name.match(n);if(r!==null){var s,t;s=(r[2]|0)*(e.scale||1),t={frame:s,props:q.value},o.push(t),r[1]==="-end"&&k.push(t),s>T&&(T=s)}}o.length&&(S.push({element:m,keyFrames:o}),K(m,i))}for(var l=0;l<k.length;l++){var t=k[l];t.frame=T-t.frame}for(var l=0;l<S.length;l++){var u=S[l];u.keyFrames.sort(function(a,b){return a.frame-b.frame}),D(u),F(u)}var v=b.createElement("div"),w=v.style;w.width="1px",w.position="absolute",w.right=w.top=w.zIndex="0",g.appendChild(v);var x=function(){w.height=T+f.clientHeight+"px"};return a.addEventListener?a.addEventListener("resize",x,!1):a.attachEvent("onresize",x),x(),C(),v=k=e=c,P}"use strict";var d=function(){},e=Object.prototype.hasOwnProperty,f=b.documentElement,g=b.body,h="hidden",i="skrollable",j="linear",k=1e3,l=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,1e3/30)},m=/^\s*(.*)\s$/,n=/^data(-end)?-?(\d+)?$/,o=/:|;/g,p=/^([a-z-]+)\[(\w+)\]$/,q=/-([a-z])/g,r=/(:?\+|-)?[\d.]+/g,s=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,t=/[a-z-]+-gradient/g,u=/^O|Moz|webkit|ms/,v,w;if(a.getComputedStyle){var x=a.getComputedStyle(g,null);for(var y in x)if(v=y.match(u)||+y==y&&x[y].match(u))break}v=(v||[""])[0],w="-"+v.toLowerCase()+"-",u=c;var z={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5},bounce:function(a){var b;switch(!0){case a<=.5083:b=3;break;case a<=.8489:b=9;break;case a<=.96208:b=27;break;case a<=.99981:b=91;break;default:return 1}return 1-Math.abs(3*Math.cos(a*b*1.028)/b)}};A.prototype.animateTo=function(a,b){b=b||{};var e=O();X={startTop:P.getScrollTop(),topDiff:a-P.getScrollTop(),targetTop:a,duration:b.duration||k,startTime:e,endTime:e+(b.duration||k),easing:z[b.easing||j],done:b.done||d},X.topDiff||(X.done.call(P),X=c)},A.prototype.setScrollTop=function(b){a.scroll(0,b)},A.prototype.getScrollTop=function(b){return a.pageYOffset||f.scrollTop||g.scrollTop||0},A.prototype.on=function(a,b){R[a]=b||d},A.prototype.off=function(a){R[a]=d};var B=function(a,b){var c=a.keyFrames;if(b<c[0].frame)K(a.element,h);else if(b>=c[c.length-1].frame){L(a.element,h);var d=c[c.length-1],f;for(var g in d.props)e.call(d.props,g)&&(f=I(d.props[g].value),J(a.element,g,f))}else{L(a.element,h);for(var i=0;i<c.length-1;i++)if(b>=c[i].frame&&b<=c[i+1].frame){var j=c[i],k=c[i+1];for(var g in j.props)if(e.call(j.props,g)){var l=(b-j.frame)/(k.frame-j.frame);l=j.props[g].easing(l);var f=H(j.props[g].value,k.props[g].value,l);f=I(f),J(a.element,g,f)}break}}},C=function(){var a=d;if(X){var b=O();if(b>=X.endTime)P.setScrollTop(X.targetTop),a=X.done,X=c;else{var e=X.easing((b-X.startTime)/X.duration);P.setScrollTop(X.startTop+e*X.topDiff|0)}}W=P.getScrollTop(),W<0&&(W=0);if(V!==W){U=W>=V?"down":"up";var f={curTop:W,lastTop:V,maxTop:T,direction:U},g=R.beforerender.call(P,f);if(g!==!1){for(var h=0;h<S.length;h++)B(S[h],W);V=W,R.render.call(P,f)}a.call(P)}l(function(){C()})},D=function(a){for(var b=0;b<a.keyFrames.length;b++){var c=a.keyFrames[b],d=c.props.split(o),e,f,g;c.props={};for(var h=0;h<d.length-1;h+=2)e=d[h],f=d[h+1],g=e.match(p),g!==null?(e=g[1],g=g[2]):g=j,f.indexOf("!")||console.log(f.slice(1)),f=f.indexOf("!")?E(f):[f.slice(1)],c.props[e]={value:f,easing:z[g]}}},E=function(a){var b=[];return s.lastIndex=0,a=a.replace(s,function(a){return a.replace(r,function(a){return a/255*100+"%"})}),t.lastIndex=0,a=a.replace(t,function(a){return w+a}),a=a.replace(r,function(a){return b.push(+a),"?"}),b.unshift(a),b},F=function(a){var b={};for(var c=0;c<a.keyFrames.length;c++)G(a.keyFrames[c],b);b={};for(var c=a.keyFrames.length-1;c>=0;c--)G(a.keyFrames[c],b)},G=function(a,b){for(var c in b)e.call(a.props,c)||(a.props[c]=b[c]);for(var c in a.props)b[c]=a.props[c]},H=function(a,b,c){if(a.length!==b.length)throw"Can't interpolate between \""+a[0]+'" and "'+b[0]+'"';var d=[a[0]];for(var e=1;e<a.length;e++)d[e]=a[e]+(b[e]-a[e])*c;return d},I=function(a){var b=1;return a[0].replace(/\?/g,function(){return a[b++]})},J=function(a,b,c){var d=a.style;b=b.replace(q,function(a,b){return b.toUpperCase()}).replace("-","");if(b==="zIndex")d[b]=""+(c|0);else try{d[v+b.slice(0,1).toUpperCase()+b.slice(1)]=c,d[b]=c}catch(e){}if(Q.setStyle)for(var f=0;f<plugins.setStyle.length;f++)Q.setStyle[0].call(this,a,b,c)},K=function(a,b){N(a.className).indexOf(N(b))===-1&&(a.className=M(a.className+" "+b))},L=function(a,b){a.className=M(N(a.className).replace(N(b)," "))},M=function(a){return a.replace(m,"$1")},N=function(a){return" "+a+" "},O=function(){return+(new Date)},P,Q={},R,S,T,U,V,W,X;a.skrollr={init:function(a){return P||new A(a)},plugin:function(a,b){Q[a]?Q[a].push(b):Q[a]=[b]},VERSION:"0.3.9"}})(window,document);